<app-header></app-header>
<div class="container my-5">
  <div class="row">
    <div class="col-lg-4">
      <div class="container">
        <h5>Filter</h5>
        <button class="btn mt-5">All</button>
        <br />
        <!-- Cuisine type -->
        <button
          (click)="getAllRecipes()"
          class="btn dropdown-toggle"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapseExample"
          aria-expanded="false"
          aria-controls="collapseExample"
        >
          Cuisine Type
        </button>
        <div class="collapse" id="collapseExample">
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Italian')"
          >
            Italian
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Asian')"
          >
            Asian
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'American')"
          >
            American
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Mexican')"
          >
            Mexican
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Indian')"
          >
            Indian
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Pakistani')"
          >
            Pakistani
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Japanese')"
          >
            Japanese
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('cuisine', 'Thai')"
          >
            Thai
          </Button>
        </div>

        <!-- meal type -->
        <br />

        <button
          class="btn dropdown-toggle"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapseMealType"
          aria-expanded="false"
          aria-controls="collapseExample"
        >
          Meal Type
        </button>
        <div class="collapse gap-3" id="collapseMealType">
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Dinner')"
          >
            Dinner
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Lunch')"
          >
            Lunch
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Dessert')"
          >
            Dessert
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Appetizer')"
          >
            Appetizer
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Breakfast')"
          >
            Breakfast
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Beverage')"
          >
            Beverage
          </Button>
          <Button
            class="btn m-1 btn-outline-success"
            (click)="filterRecipes('mealType', 'Salad')"
          >
            Salad
          </Button>
        </div>
      </div>
    </div>

    <div class="col-lg-8">
      <div class="d-flex justify-content-between align-items-center">
        <h3>All recipes</h3>
        <input
          [(ngModel)]="searchKey"
          type="text"
          class="form-control w-50"
          placeholder="Search Your Recipes"
          name=""
          id=""
        />
      </div>
      <div class="row my-3">
        @if (allRecipes.length>0){ @for(recipes of allRecipes
        |search:searchKey |paginate:{itemsPerPage:9,currentPage:p};track $index){
        <div class="col-md-6">
          <div class="p-3">
            <img width="100%" [src]="recipes.image" alt="" />
            <div class="card-body mt-3">
              <h4>{{ recipes.name }}</h4>
              <p>Cuisine: {{ recipes.cuisine }}</p>
              <p>Meal Type: {{ recipes.mealType }}</p>
            </div>
          </div>
        </div>
        } @if((allRecipes|search:searchKey).length==0){
        <div class="text-danger text-center  ">
          Products not Found...
        </div>
        } }@else{
        <div class="text-danger text-center ">
          Products not Found...
        </div>
        }
        <div class="text-center">
          <pagination-controls (pageChange)="p=($event)"></pagination-controls>
        </div>
        
      </div>
    </div>
  </div>
</div>
